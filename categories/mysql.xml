<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="../assets/xml/rss.xsl" media="all"?><rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Simple Life (文章分類：mysql)</title><link>https://github.com/mariolong/mariolong.github.io/</link><description></description><atom:link href="https://mariolong.github.io/categories/mysql.xml" rel="self" type="application/rss+xml"></atom:link><language>zh_tw</language><copyright>Contents © 2018 &lt;a href="mailto:mariolong5782@gmail.com"&gt;Mario Long&lt;/a&gt; </copyright><lastBuildDate>Mon, 17 Sep 2018 06:29:08 GMT</lastBuildDate><generator>Nikola (getnikola.com)</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><item><title>Using Mariadb</title><link>https://mariolong.github.io/posts/using-mariadb/</link><dc:creator>Mario Long</dc:creator><description>&lt;div id="outline-container-orgc1836c6" class="outline-2"&gt;
&lt;h2 id="orgc1836c6"&gt;change root password&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-orgc1836c6"&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;mysql&amp;gt; use mysql;
mysql&amp;gt; UPDATE user SET Password=PASSWORD("password") WHERE User='root';
mysql&amp;gt; flush privileges;
mysql&amp;gt; quit
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div id="outline-container-orgfbd475a" class="outline-2"&gt;
&lt;h2 id="orgfbd475a"&gt;commands&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-orgfbd475a"&gt;
&lt;/div&gt;
&lt;div id="outline-container-orgb23c4ed" class="outline-3"&gt;
&lt;h3 id="orgb23c4ed"&gt;create user&lt;/h3&gt;
&lt;div class="outline-text-3" id="text-orgb23c4ed"&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;mysql&amp;gt; CREATE USER 'stock'@'localhost' IDENTIFIED BY 'password';
mysql&amp;gt; GRANT ALL PRIVILEGES ON stock.* TO 'stock'@'localhost' WITH GRANT OPTION;
mysql&amp;gt; SHOW GRANTS FOR 'stock'@'localhost';
+--------------------------------------------------------------------------------------------------------------+
| Grants for stock@localhost                                                                                   |
+--------------------------------------------------------------------------------------------------------------+
| GRANT USAGE ON *.* TO 'stock'@'localhost' IDENTIFIED BY PASSWORD '*DAE5C577E73995AE12C81FF21F2A6336BD9D2F1F' |
| GRANT ALL PRIVILEGES ON `stock`.* TO 'stock'@'localhost' WITH GRANT OPTION                                   |
+--------------------------------------------------------------------------------------------------------------+
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div id="outline-container-org4a364a2" class="outline-3"&gt;
&lt;h3 id="org4a364a2"&gt;show database*s*&lt;/h3&gt;
&lt;div class="outline-text-3" id="text-org4a364a2"&gt;
&lt;p&gt;
&lt;b&gt;注意&lt;/b&gt;: database 和 table 的名稱，在 linux 中會區分大小寫。
&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;SHOW DATABASES
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div id="outline-container-org7b6bd2a" class="outline-3"&gt;
&lt;h3 id="org7b6bd2a"&gt;use &amp;lt;db-name&amp;gt;&lt;/h3&gt;
&lt;div class="outline-text-3" id="text-org7b6bd2a"&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;USE stock
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</description><category>mariadb</category><category>mysql</category><guid>https://mariolong.github.io/posts/using-mariadb/</guid><pubDate>Fri, 15 Jun 2018 10:03:15 GMT</pubDate></item><item><title>Install Mariadb</title><link>https://mariolong.github.io/posts/install-mariadb/</link><dc:creator>Mario Long</dc:creator><description>&lt;p&gt;
Ref: &lt;a href="https://wiki.archlinux.org/index.php/MySQL"&gt;MySQL - ArchWiki&lt;/a&gt;
&lt;/p&gt;

&lt;div id="outline-container-org952d565" class="outline-2"&gt;
&lt;h2 id="org952d565"&gt;install mariadb&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-org952d565"&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;yaourt -S mariadb
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div id="outline-container-org627723c" class="outline-2"&gt;
&lt;h2 id="org627723c"&gt;install and setup database&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-org627723c"&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo mysql_install_db --user&lt;span class="o"&gt;=&lt;/span&gt;mysql --basedir&lt;span class="o"&gt;=&lt;/span&gt;/usr --datadir&lt;span class="o"&gt;=&lt;/span&gt;/var/lib/mysql
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;div id="outline-container-org601cad4" class="outline-3"&gt;
&lt;h3 id="org601cad4"&gt;message&lt;/h3&gt;
&lt;div class="outline-text-3" id="text-org601cad4"&gt;
&lt;pre class="example"&gt;
PLEASE REMEMBER TO SET A PASSWORD FOR THE MariaDB root USER !
To do so, start the server, then issue the following commands:

'/usr/bin/mysqladmin' -u root password 'new-password'
'/usr/bin/mysqladmin' -u root -h arch64 password 'new-password'

Alternatively you can run:

'/usr/bin/mysql_secure_installation'
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

which will also give you the option of removing the test
databases and anonymous user created by default.  This is
strongly recommended for production servers.

See the MariaDB Knowledgebase at http://mariadb.com/kb or the
MySQL manual for more instructions.

You can start the MariaDB daemon with:
cd '/usr' ; /usr/bin/mysqld_safe --datadir='/mnt/lvm-data/mysql-data'

You can test the MariaDB daemon with mysql-test-run.pl
cd '/usr/mysql-test' ; perl mysql-test-run.pl

Please report any problems at http://mariadb.org/jira

The latest information about MariaDB is available at http://mariadb.org/.
You can find additional information about the MySQL part at:
http://dev.mysql.com
Consider joining MariaDB's strong and vibrant community:
https://mariadb.org/get-involved/
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div id="outline-container-org824ff0a" class="outline-2"&gt;
&lt;h2 id="org824ff0a"&gt;edit &lt;code&gt;/etc/mysql/my.cnf&lt;/code&gt;&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-org824ff0a"&gt;
&lt;p&gt;
Tip: If you use something different from /var/lib/mysql for your data
dir, you need to set &lt;code&gt;datadir=&amp;lt;YOUR_DATADIR&amp;gt;&lt;/code&gt; under section &lt;code&gt;[mysqld]&lt;/code&gt; of
your &lt;code&gt;/etc/mysql/my.cnf&lt;/code&gt;.  The following command will interactively
guide you through a number of recommended security measures at the
database level:
&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div id="outline-container-orgd4f452c" class="outline-2"&gt;
&lt;h2 id="orgd4f452c"&gt;start/enable &lt;code&gt;mariadb.service&lt;/code&gt; with systemd&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-orgd4f452c"&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo systemctl start mariadb
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div id="outline-container-org9a57bf0" class="outline-2"&gt;
&lt;h2 id="org9a57bf0"&gt;To start mysqld at boot time&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-org9a57bf0"&gt;
&lt;p&gt;
you have to copy support-files/mysql.server to the right place for your system
&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sudo mysql_secure_installation
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;
which will also give you the option of removing the test
databases and anonymous user created by default.  This is
strongly recommended for production servers.
&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div id="outline-container-orgbea6200" class="outline-2"&gt;
&lt;h2 id="orgbea6200"&gt;Using UTF8MB4&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-orgbea6200"&gt;
&lt;p&gt;
在 &lt;code&gt;/etc/mysql/my.cnf&lt;/code&gt; 加上以下指令：
&lt;/p&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;[client]
default-character-set = utf8mb4

[mysqld]
collation_server = utf8mb4_unicode_ci
character_set_server = utf8mb4

[mysql]
default-character-set = utf8mb4
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div id="outline-container-org0a3588f" class="outline-2"&gt;
&lt;h2 id="org0a3588f"&gt;開啓自動補全&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-org0a3588f"&gt;
&lt;p&gt;
Note: Enabling this feature can make the client initialization longer.
&lt;/p&gt;

&lt;p&gt;
The MySQL client completion feature is disabled by default. To enable
it system-wide edit &lt;code&gt;/etc/mysql/my.cnf&lt;/code&gt; , and replace &lt;code&gt;no-auto-rehash&lt;/code&gt; by
&lt;code&gt;auto-rehash&lt;/code&gt;. Completion will be enabled next time you run the MySQL
client.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;</description><category>archlinux</category><category>mariadb</category><category>mysql</category><guid>https://mariolong.github.io/posts/install-mariadb/</guid><pubDate>Fri, 15 Jun 2018 08:20:11 GMT</pubDate></item></channel></rss>