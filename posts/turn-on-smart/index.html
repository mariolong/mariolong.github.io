<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " lang="zh_tw">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Turn on SMART to monitor HD | Simple Life</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=Playfair+Display:700,900" rel="stylesheet">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../../rss.xml">
<link rel="canonical" href="https://mariolong.github.io/posts/turn-on-smart/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Mario Long">
<link rel="prev" href="../kodi-tv/" title="Kodi TV" type="text/html">
<link rel="next" href="../time-to-drink-water/" title="這個時間喝水，輕鬆甩肉、防中風！ - 康健雜誌" type="text/html">
<meta property="og:site_name" content="Simple Life">
<meta property="og:title" content="Turn on SMART to monitor HD">
<meta property="og:url" content="https://mariolong.github.io/posts/turn-on-smart/">
<meta property="og:description" content="ref: S.M.A.R.T. - ArchWiki



Install

yaourt -S smartmontools





start smartd

systemctl start smartd



配置檔 /etc/smartd.conf





smartd.conf


To monitor for all possible SMART errors on all disk">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2018-07-11T21:40:06+08:00">
<meta property="article:tag" content="linux">
<meta property="article:tag" content="smart">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">略過主內容</a>

<!-- Header and menu bar -->
<div class="container">
      <header class="blog-header py-3"><div class="row nbb-header align-items-center">
          <div class="col-md-3 col-xs-2 col-sm-2" style="width: auto;">
            <button class="navbar-toggler navbar-light bg-light nbb-navbar-toggler" type="button" data-toggle="collapse" data-target=".bs-nav-collapsible" aria-controls="bs-navbar" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse bs-nav-collapsible bootblog4-search-form-holder">
                
            </div>
        </div>
          <div class="col-md-6 col-xs-10 col-sm-10 bootblog4-brand" style="width: auto;">
            <a class="navbar-brand blog-header-logo text-dark" href="https://mariolong.github.io/">

            <span id="blog-title">Simple Life</span>
        </a>
          </div>
            <div class="col-md-3 justify-content-end align-items-center bs-nav-collapsible collapse flex-collapse bootblog4-right-nav">
            <nav class="navbar navbar-light bg-white"><ul class="navbar-nav bootblog4-right-nav"></ul></nav>
</div>
    </div>
</header><nav class="navbar navbar-expand-md navbar-light bg-white static-top"><div class="collapse navbar-collapse bs-nav-collapsible" id="bs-navbar">
            <ul class="navbar-nav nav-fill d-flex w-100">
<li class="nav-item">
<a href="../../categories/cat_computer/" class="nav-link">電腦</a>
                </li>
<li class="nav-item">
<a href="../../categories/cat_investment/" class="nav-link">投資</a>
                </li>
<li class="nav-item">
<a href="../../categories/cat_life/" class="nav-link">生活</a>
                </li>
<li class="nav-item">
<a href="../../archive.html" class="nav-link">歸檔</a>
                </li>
<li class="nav-item">
<a href="../../rss.xml" class="nav-link">訂閱</a>

                
            </li>
</ul>
</div>
<!-- /.navbar-collapse -->
</nav>
</div>

<div class="container" id="content" role="main">
    <div class="body-content">

        <!--Body content-->
        
		<div class="yue">
			
	<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Turn on SMART to monitor HD</a></h1>

        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                    Mario Long
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2018-07-11T21:40:06+08:00" itemprop="datePublished" title="2018-07-11 21:40">2018-07-11 21:40</time></a>
            </p>



                <p class="commentline">
        
    <a href="#disqus_thread" data-disqus-identifier="cache/posts/turn-on-smart.html">Comments</a>



			
        </p>
<ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/linux/" rel="tag">linux</a></li>
            <li><a class="tag p-category" href="../../categories/smart/" rel="tag">smart</a></li>
        </ul>
</div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
			<p>
ref: <a href="https://wiki.archlinux.org/index.php/S.M.A.R.T.">S.M.A.R.T. - ArchWiki</a>
</p>

<div id="outline-container-org3802224" class="outline-2">
<h2 id="org3802224">Install</h2>
<div class="outline-text-2" id="text-org3802224">
<div class="highlight"><pre><span></span>yaourt -S smartmontools
</pre></div>
</div>
</div>

<div id="outline-container-orgd9728a1" class="outline-2">
<h2 id="orgd9728a1">start smartd</h2>
<div class="outline-text-2" id="text-orgd9728a1">
<div class="highlight"><pre><span></span>systemctl start smartd
</pre></div>

<p>
配置檔 <code>/etc/smartd.conf</code>
</p>
</div>
</div>

<div id="outline-container-org789c2ba" class="outline-2">
<h2 id="org789c2ba">smartd.conf</h2>
<div class="outline-text-2" id="text-org789c2ba">
<p>
To monitor for all possible SMART errors on all disks, the following
setting must be added in the configuration file.
</p>

<div class="highlight"><pre><span></span>DEVICESCAN -a
</pre></div>
</div>

<div id="outline-container-org94c60c4" class="outline-3">
<h3 id="org94c60c4">auto mail</h3>
<div class="outline-text-3" id="text-org94c60c4">
<p>
先依 <a href="https://dominicm.com/configure-email-notifications-on-arch-linux/">Configure Email Notifications on Arch Linux | DominicM</a> 設定 s-nail,
再於 <code>/etc/smartd.conf</code> 加上以下指令
</p>

<div class="highlight"><pre><span></span>DEVICESCAN -m address@domain.com -M test
</pre></div>
</div>
</div>
</div>


<div id="outline-container-org8dadc8d" class="outline-2">
<h2 id="org8dadc8d">test and view the result</h2>
<div class="outline-text-2" id="text-org8dadc8d">
<p>
來源： <a href="https://www.techrepublic.com/article/how-to-check-ssd-health-in-linux/">How to check SSD health in Linux - TechRepublic</a>
</p>

<div class="highlight"><pre><span></span>sudo smartctl -i /dev/sda
sudo smartctl -t long -a /dev/sda
</pre></div>

<div class="highlight"><pre><span></span>sudo smartctl -a /dev/sda
</pre></div>

<p>
The short test will examine the following:
</p>

<ul class="org-ul">
<li>Electrical Properties: The controller tests its own electronics,
which is different for each manufacturer.</li>
<li>Mechanical Properties: Servos and positioning mechanisms are tested
(also specific to each manufacturer).</li>
<li>Read/Verify : A certain area of the disk will be read to verify
certain data (the size and position of the region read is unique to
each manufacturer).</li>
</ul>
<p>
The long test runs everything included with the short test, while adding:
</p>

<ul class="org-ul">
<li>No time restriction and in the Read/Verify segment.</li>
<li>The entire disk is checked (as opposed to just a section).</li>
</ul>
<div class="highlight"><pre><span></span>sudo smartctl -A /dev/sda
</pre></div>

<dl class="org-dl">
<dt>Power_On_Hours</dt>
<dd>how many hours the drive has been powered on. Each
make/model of drive has a recommended "shelf life"
of hours it can be used. Most modern SSDs have
fairly incredible lifespans, so chances are you're
not going to bump into the end of life. If you're
using an older drive, this can be an issue.</dd>

<dt>Wear_Leveling_Count</dt>
<dd>Stands for the remaining endurance of the
drive in percentage (starting from 100 and decreasing linearly as
the drive is written to).</dd>
</dl>
</div>
</div>
		</div>
		<aside class="postpromonav"><nav><!-- 				
        <ul itemprop="keywords" class="tags">
            <li><a class="tag p-category" href="/categories/linux/" rel="tag">linux</a></li>
            <li><a class="tag p-category" href="/categories/smart/" rel="tag">smart</a></li>
        </ul>
 --><ul class="pager hidden-print">
<li class="previous">
                <a href="../kodi-tv/" rel="prev" title="Kodi TV">上一篇</a>
            </li>
            <li class="next">
                <a href="../time-to-drink-water/" rel="next" title="這個時間喝水，輕鬆甩肉、防中風！ - 康健雜誌">下一篇</a>
            </li>
        </ul></nav></aside><section class="comments hidden-print"><h2>迴響</h2>
			
        
        <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="simple-life",
            disqus_url="https://mariolong.github.io/posts/turn-on-smart/",
        disqus_title="Turn on SMART to monitor HD",
        disqus_identifier="cache/posts/turn-on-smart.html",
        disqus_config = function () {
            this.language = "zh_tw";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="https://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


		</section></article><script>var disqus_shortname="simple-life";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>
</div>
		<!--End of body content-->


		<footer id="footer">
			Contents © 2018         <a href="mailto:mariolong5782@gmail.com">Mario Long</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         
			
		</footer>
</div>
</div>


        <script src="../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("zh-tw");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script>
</body>
</html>
