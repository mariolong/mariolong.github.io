<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " lang="zh_tw">
<head>
<meta charset="utf-8">
<meta name="description" content="Simple is beautiful. Note for health, computer and investment.">
<meta name="viewport" content="width=device-width">
<title>Simple Life (舊文章，第 1 頁) | Simple Life</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">
<link rel="canonical" href="https://mariolong.github.io/index-1.html">
<link rel="prev" href="index-2.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]-->
</head>
<body>

	<a href="#content" class="sr-only sr-only-focusable">略過主內容</a>

	<!-- Menubar -->

	<div class="navbar navbar-static-top" id="navbar">
		<div class="navbar-inner">
			<div class="container">

				<!-- .btn-navbar is used as the toggle for collapsed navbar content -->
				<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</a>

				<a class="brand" href="https://mariolong.github.io/">

						<span id="blog-title">Simple Life</span>
				</a>

				<!-- Everything you want hidden at 940px or less, place within here -->
				<div class="nav-collapse collapse">
					<ul class="nav pull-right">
<li>
<a href="categories/cat_computer/">電腦</a>
                </li>
<li>
<a href="categories/cat_investment/">投資</a>
                </li>
<li>
<a href="categories/cat_life/">生活</a>
                </li>
<li>
<a href="archive.html">歸檔</a>
                </li>
<li>
<a href="rss.xml">訂閱</a>

						
					</li>
</ul>
<ul class="nav pull-right"></ul>
</div>
			</div>
		</div>
	</div>
	<!-- End of Menubar -->
	<div class="yue">
		<div class="container-fluid" id="content" role="main">
		<!--Body content-->
			<div class="row-fluid">
				<div class="span2"></div>
				<div class="span8">
					
					

    


    
<div class="postindex">
    <article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="posts/linux%2C%20%E5%98%B8%E8%9D%A6%E7%B1%B3/" class="u-url">IBus + 嘸蝦米</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Mario Long
            </span></p>
            <p class="dateline"><a href="posts/linux%2C%20%E5%98%B8%E8%9D%A6%E7%B1%B3/" rel="bookmark"><time class="published dt-published" datetime="2013-11-01T10:55:08+08:00" title="2013-11-01 10:55">2013-11-01 10:55</time></a></p>
                <p class="commentline">
        
    <a href="posts/linux%2C%20%E5%98%B8%E8%9D%A6%E7%B1%B3/#disqus_thread" data-disqus-identifier="cache/posts/ibus-wu-shia-mi.html">Comments</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <div>
<p>安裝 ibus-table</p>
<pre class="literal-block">
$ yaourt -S ibus-table
</pre>
<p>在 <a class="reference external" href="http://francinelin.blogspot.tw/2012/07/ibus.html">liu_ibus_table.txt</a> 可以加上常用的詞。然後執行</p>
<pre class="literal-block">
$ sudo ibus-table-createdb -s liu_ibus_table.txt -n liu.db
$ sudo cp liu.db /usr/share/ibus-table/tables/
$ sudo cp liu.png /usr/share/ibus-table/icons/  # 這個好像沒用
$ rm ~/.ibus/tables/liu-user.db     # 刪除 cache 中的檔案
$ ibus restart      # 重啟 ibus
</pre>
<p>如果不行，請登出系統，重新登入，才能使剛才的修改生效。</p>
<p>好用的嘸蝦米就重出江湖了。</p>
<p>要學嘸蝦米，就要來 <a class="reference external" href="http://boshiamy.com/cai.html">這裡</a> 。</p>
<p>fcitx 還是比較好用，參考以下：</p>
<p><a class="reference external" href="http://www.ubuntu-tw.org/modules/newbb/viewtopic.php?viewmode=compact&amp;type=&amp;topic_id=53570&amp;forum=8">http://www.ubuntu-tw.org/modules/newbb/viewtopic.php?viewmode=compact&amp;type=&amp;topic_id=53570&amp;forum=8</a></p>
<p><a class="reference external" href="posts/ibusfcitxshu-ru-fa-she-ding/">ibus,fcitx 輸入法設定</a></p>
</div>
    </div>
    </article><article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="posts/install-arch-linux/" class="u-url">Install Arch Linux</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Mario Long
            </span></p>
            <p class="dateline"><a href="posts/install-arch-linux/" rel="bookmark"><time class="published dt-published" datetime="2013-11-01T09:31:11+08:00" title="2013-11-01 09:31">2013-11-01 09:31</time></a></p>
                <p class="commentline">
        
    <a href="posts/install-arch-linux/#disqus_thread" data-disqus-identifier="cache/posts/install-arch-linux.html">Comments</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <div>
<p>原則上，跟着 <a class="reference external" href="https://wiki.archlinux.org/index.php/Beginners'_Guide">Beginners' Guide</a> 做即可。</p>
<p class="more"><a href="posts/install-arch-linux/"> more …</a></p>
</div>
    </div>
    </article><article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="posts/dvd-backup/" class="u-url">DVD backup</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Mario Long
            </span></p>
            <p class="dateline"><a href="posts/dvd-backup/" rel="bookmark"><time class="published dt-published" datetime="2013-10-25T08:16:10+08:00" title="2013-10-25 08:16">2013-10-25 08:16</time></a></p>
                <p class="commentline">
        
    <a href="posts/dvd-backup/#disqus_thread" data-disqus-identifier="cache/posts/dvd-backup.html">Comments</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <div>
<p>手邊一堆 DVD，不保存到電腦裡，不安心啦。
為了保存這些 DVD，大約的流程如下：</p>
<ol class="arabic simple">
<li>先將 DVD 轉成 ISO。</li>
<li>把 ISO 裡的 VIDEO 目錄抓出來。</li>
<li>VIDEO 中的 *.VOB 轉成 *.mkv 保存。</li>
<li>有必要時，可以將 mkv 轉成自己想要的格式。</li>
</ol>
<div class="section" id="dvd-to-iso">
<h2>DVD to ISO</h2>
<p>爲了保存有價值的影片，儘量用比較高品質的壓縮方法。</p>
<p>參考 <a class="reference external" href="http://www.cmdln.org/2010/01/22/backing-up-disney-dvds/">BACKING UP DISNEY DVDS</a></p>
<p>需要安裝的軟體：</p>
<pre class="literal-block">
$ yaourt -S ddrescue dvdbackup libdvdcss
</pre>
<p>使用流程：</p>
<pre class="literal-block">
ddrescue -n -b 2048 /dev/cdrom dvd.iso
dvdbackup -M -i dvd.iso -o dvd-dir
</pre>
<p>如此就把整片 DVD 備份到 dvd-dir 中了。
接下來，再針對 dvd-dir 中的影片處理。</p>
</div>
<div class="section" id="dvd-to-mkv">
<h2>DVD to MKV</h2>
<p>參考 <cite>ffmpeg-xin-de</cite></p>
<p>先將 ISO 轉成 MKV</p>
<pre class="literal-block">
cat VTS_01_[1234].VOB | ffmpeg -probesize 214748000 -analyzeduration 214748000 -i - \
-map 0:0 -map 0:1 -map 0:2 \
-crf 18 -preset veryslow -tune help\
-filter:v yadif \
-c:a copy -c:s copy -y a.mkv
</pre>
<ol class="arabic simple">
<li>
<tt class="docutils literal"><span class="pre">-probesize</span> 214748000 <span class="pre">-analyzeduration</span> 214748000</tt> 有時會因爲音軌或字幕軌太晚出現，ffmpeg 會偵測不到，這時就加長偵測的時間和大小。</li>
<li>
<tt class="docutils literal"><span class="pre">-map</span> 0:0 <span class="pre">-map</span> 0:1 <span class="pre">-map</span> 0:2</tt> 是要封裝到 mkv 的軌道。</li>
<li>
<tt class="docutils literal"><span class="pre">-crf</span> 18 <span class="pre">-preset</span> veryslow</tt> 用這個參數大概就好了，眼睛看不出來與原始有何差異。有必要時可以再加上 -tune。</li>
<li>
<tt class="docutils literal"><span class="pre">-filter:v</span> yadif</tt> 就是 deinterlace。</li>
<li>
<tt class="docutils literal"><span class="pre">-c:a</span> copy <span class="pre">-c:s</span> copy</tt> 音軌和字幕軌都不重新編碼。</li>
</ol>
<p>如果沒有字幕，可以先取得字幕檔，再保存到 mkv 中，如下：</p>
<pre class="literal-block">
$ cat VTS_01_[1234].VOB | ffmpeg -i - -i a.ssa \
-map 0:0 -map 0:2 -map 1 \
-crf 18 -preset veryslow -tune zerolatency \
-filter:v yadif \
-c:a copy -c:s copy \
-y a.mkv
</pre>
<p>重點是 <tt class="docutils literal"><span class="pre">-i</span> a.ssa <span class="pre">-map</span> 1 <span class="pre">-c:s</span> copy</tt></p>
</div>
<div class="section" id="color-of-dvd-subtitle">
<h2>color of dvd subtitle</h2>
<p><a class="reference external" href="https://en.wikibooks.org/wiki/FFMPEG_An_Intermediate_Guide/subtitle_options">https://en.wikibooks.org/wiki/FFMPEG_An_Intermediate_Guide/subtitle_options</a></p>
<p>$ ffmpeg -palette "551A8B,551A8B,ffffff,000000,ffffff,ffffff,ffffff,ffffff,ffffff,ffffff,ffffff,ffffff,ffffff,ffffff,ffffff,ffffff" -i candy-001.mkv -c:a copy -filter_complex "[0:v][0:s]overlay" a.mkv</p>
<ol class="arabic simple">
<li>字框</li>
<li>外框</li>
<li>不知</li>
<li>字本身</li>
</ol>
</div>
</div>
    </div>
    </article><article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="posts/gnomean-zhuang-ji-lu/" class="u-url">gnome 安裝記錄</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Mario Long
            </span></p>
            <p class="dateline"><a href="posts/gnomean-zhuang-ji-lu/" rel="bookmark"><time class="published dt-published" datetime="2013-10-24T12:57:19+08:00" title="2013-10-24 12:57">2013-10-24 12:57</time></a></p>
                <p class="commentline">
        
    <a href="posts/gnomean-zhuang-ji-lu/#disqus_thread" data-disqus-identifier="cache/posts/gnomean-zhuang-ji-lu.html">Comments</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <div>
<p>安裝了 GNOME 3.10，使用的感覺很不錯，特別記錄一下安裝時碰到的困難，以利未來查詢可用。</p>
<div class="section" id="id1">
<h2>安裝</h2>
<pre class="literal-block">
$ yaourt -S gnome gnome-extra ibus-rime ibus-chewing
</pre>
</div>
<div class="section" id="id2">
<h2>配置</h2>
<div class="section" id="id3">
<h3>選擇字型</h3>
<p>個人喜好，我選擇的是 DejaVu 系列。字型要設好，不然，gnome-terminal 的字會擠在一起。
要不然就要再設定：<em>編輯-&gt;設定編輯組合偏好設定-&gt;一般-&gt;字型</em></p>
</div>
<div class="section" id="ibus">
<h3>調整 ibus 字型大小</h3>
<p>我目前覺得 gnome 3.10 和 IBus 整合的不錯，使用上沒有什麼問題。
但是，預設的字型實在是太小了，不改不行。
目前只能直接改 gnome-shell 的 css 檔：</p>
<pre class="code text"><a name="rest_code_8a9770221c904746a01899c6c521bc44-1"></a>$ sudo nano /usr/share/gnome-shell/theme/gnome-shell.css
</pre>
<p>找到</p>
<pre class="code text"><a name="rest_code_b7cd4e1a27064018b82c819389d1bf4e-1"></a>/* default text style */
<a name="rest_code_b7cd4e1a27064018b82c819389d1bf4e-2"></a>stage {
<a name="rest_code_b7cd4e1a27064018b82c819389d1bf4e-3"></a>font-family: sans-serif;
<a name="rest_code_b7cd4e1a27064018b82c819389d1bf4e-4"></a>font-size: 11pt;
<a name="rest_code_b7cd4e1a27064018b82c819389d1bf4e-5"></a>color: white;
<a name="rest_code_b7cd4e1a27064018b82c819389d1bf4e-6"></a>}
</pre>
<p>和</p>
<pre class="code text"><a name="rest_code_74bcdb3189b7447393898c4fe1425e44-1"></a>/* IBus Candidate Popup */
<a name="rest_code_74bcdb3189b7447393898c4fe1425e44-2"></a>
<a name="rest_code_74bcdb3189b7447393898c4fe1425e44-3"></a>.candidate-popup-content {
<a name="rest_code_74bcdb3189b7447393898c4fe1425e44-4"></a>padding: 0.2em;
<a name="rest_code_74bcdb3189b7447393898c4fe1425e44-5"></a>spacing: 0.2em;
<a name="rest_code_74bcdb3189b7447393898c4fe1425e44-6"></a>}
<a name="rest_code_74bcdb3189b7447393898c4fe1425e44-7"></a>
<a name="rest_code_74bcdb3189b7447393898c4fe1425e44-8"></a>.candidate-popup-text {
<a name="rest_code_74bcdb3189b7447393898c4fe1425e44-9"></a>font-size: 18pt;
<a name="rest_code_74bcdb3189b7447393898c4fe1425e44-10"></a>}
<a name="rest_code_74bcdb3189b7447393898c4fe1425e44-11"></a>
<a name="rest_code_74bcdb3189b7447393898c4fe1425e44-12"></a>.candidate-index {
<a name="rest_code_74bcdb3189b7447393898c4fe1425e44-13"></a>font-size: 14pt;
<a name="rest_code_74bcdb3189b7447393898c4fe1425e44-14"></a>padding: 0 0.5em 0 0;
<a name="rest_code_74bcdb3189b7447393898c4fe1425e44-15"></a>color: #cccccc;
<a name="rest_code_74bcdb3189b7447393898c4fe1425e44-16"></a>}
<a name="rest_code_74bcdb3189b7447393898c4fe1425e44-17"></a>
<a name="rest_code_74bcdb3189b7447393898c4fe1425e44-18"></a>.candidate-label {
<a name="rest_code_74bcdb3189b7447393898c4fe1425e44-19"></a>font-size:22px;
<a name="rest_code_74bcdb3189b7447393898c4fe1425e44-20"></a>letter-spacing: 1px;
<a name="rest_code_74bcdb3189b7447393898c4fe1425e44-21"></a>}
<a name="rest_code_74bcdb3189b7447393898c4fe1425e44-22"></a>
<a name="rest_code_74bcdb3189b7447393898c4fe1425e44-23"></a>.candidate-box {
<a name="rest_code_74bcdb3189b7447393898c4fe1425e44-24"></a>padding: 0.2em 0.5em 0.2em 0.5em;
<a name="rest_code_74bcdb3189b7447393898c4fe1425e44-25"></a>}
<a name="rest_code_74bcdb3189b7447393898c4fe1425e44-26"></a>
<a name="rest_code_74bcdb3189b7447393898c4fe1425e44-27"></a>.candidate-box:selected {
<a name="rest_code_74bcdb3189b7447393898c4fe1425e44-28"></a>border-radius: 4px;
<a name="rest_code_74bcdb3189b7447393898c4fe1425e44-29"></a>background-color: rgba(255,255,255,0.2);
<a name="rest_code_74bcdb3189b7447393898c4fe1425e44-30"></a>}
<a name="rest_code_74bcdb3189b7447393898c4fe1425e44-31"></a>
<a name="rest_code_74bcdb3189b7447393898c4fe1425e44-32"></a>.candidate-box:hover {
<a name="rest_code_74bcdb3189b7447393898c4fe1425e44-33"></a>border-radius: 4px;
<a name="rest_code_74bcdb3189b7447393898c4fe1425e44-34"></a>background-color: rgba(255,255,255,0.1);
<a name="rest_code_74bcdb3189b7447393898c4fe1425e44-35"></a>}
<a name="rest_code_74bcdb3189b7447393898c4fe1425e44-36"></a>.candidate-page-button-box {
<a name="rest_code_74bcdb3189b7447393898c4fe1425e44-37"></a>height: 2em;
<a name="rest_code_74bcdb3189b7447393898c4fe1425e44-38"></a>width: 80px;
<a name="rest_code_74bcdb3189b7447393898c4fe1425e44-39"></a>}
<a name="rest_code_74bcdb3189b7447393898c4fe1425e44-40"></a>
<a name="rest_code_74bcdb3189b7447393898c4fe1425e44-41"></a>.vertical .candidate-page-button-box {
<a name="rest_code_74bcdb3189b7447393898c4fe1425e44-42"></a>padding-top: 0.5em;
<a name="rest_code_74bcdb3189b7447393898c4fe1425e44-43"></a>}
<a name="rest_code_74bcdb3189b7447393898c4fe1425e44-44"></a>
<a name="rest_code_74bcdb3189b7447393898c4fe1425e44-45"></a>.horizontal .candidate-page-button-box {
<a name="rest_code_74bcdb3189b7447393898c4fe1425e44-46"></a>padding-left: 0.5em;
<a name="rest_code_74bcdb3189b7447393898c4fe1425e44-47"></a>}
<a name="rest_code_74bcdb3189b7447393898c4fe1425e44-48"></a>
<a name="rest_code_74bcdb3189b7447393898c4fe1425e44-49"></a>.candidate-page-button-previous {
<a name="rest_code_74bcdb3189b7447393898c4fe1425e44-50"></a>border-radius: 4px 0px 0px 4px;
<a name="rest_code_74bcdb3189b7447393898c4fe1425e44-51"></a>}
<a name="rest_code_74bcdb3189b7447393898c4fe1425e44-52"></a>
<a name="rest_code_74bcdb3189b7447393898c4fe1425e44-53"></a>.candidate-page-button-next {
<a name="rest_code_74bcdb3189b7447393898c4fe1425e44-54"></a>border-radius: 0px 4px 4px 0px;
<a name="rest_code_74bcdb3189b7447393898c4fe1425e44-55"></a>}
<a name="rest_code_74bcdb3189b7447393898c4fe1425e44-56"></a>
<a name="rest_code_74bcdb3189b7447393898c4fe1425e44-57"></a>.candidate-page-button-icon {
<a name="rest_code_74bcdb3189b7447393898c4fe1425e44-58"></a>icon-size: 1em;
<a name="rest_code_74bcdb3189b7447393898c4fe1425e44-59"></a>}
</pre>
<p>重啟 gnome shell，OK。</p>
</div>
<div class="section" id="id4">
<h3>聲音</h3>
<p>gnome 的聲音也不好搞，預設用的是 PulseAudio，理論上是不用配置。
但它和 ALSA 配合不好，會找不到 sound device，當然就無法發聲。</p>
<p>參考 <a class="reference external" href="http://nelson.pixnet.net/blog/post/22615924-%5B%E7%AD%86%E8%A8%98%5D-%E8%AE%93-alsa-%E8%B7%9F-pulseaudio-%E5%AE%8C%E7%BE%8E%E5%85%B1%E5%AD%98">[1]</a> 和 <a class="reference external" href="http://www.ubuntu-tw.org/modules/newbb/viewtopic.php?viewmode=compact&amp;type=&amp;topic_id=10102&amp;forum=10">[2]</a> ，節錄解決步驟如下：</p>
<pre class="literal-block">
$ sudo gedit /etc/pulse/default.pa
</pre>
<p>找到 <tt class="docutils literal"><span class="pre">#load-module</span> <span class="pre">module-alsa-sink</span></tt>，改成 <tt class="docutils literal"><span class="pre">load-module</span> <span class="pre">module-alsa-sink</span> device=dmix</tt>。</p>
<p>找到 <tt class="docutils literal"><span class="pre">load-module</span> <span class="pre">module-suspend-on-idle</span></tt>，改成 <tt class="docutils literal"><span class="pre">#load-module</span> <span class="pre">module-suspend-on-idle</span></tt></p>
<p>找到 <tt class="docutils literal"><span class="pre">load-module</span> <span class="pre">module-hal-detect</span></tt>，改成 <tt class="docutils literal"><span class="pre">#load-module</span> <span class="pre">module-hal-detect</span></tt></p>
</div>
</div>
</div>
    </div>
    </article><article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="posts/lilyterm/" class="u-url">lilyterm 使用心得與整理</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Mario Long
            </span></p>
            <p class="dateline"><a href="posts/lilyterm/" rel="bookmark"><time class="published dt-published" datetime="2013-05-13T10:45:30+08:00" title="2013-05-13 10:45">2013-05-13 10:45</time></a></p>
                <p class="commentline">
        
    <a href="posts/lilyterm/#disqus_thread" data-disqus-identifier="cache/posts/lilyterm.html">Comments</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <div>
<p>update:2014-5-28</p>
<div class="section" id="id1">
<h2>前言</h2>
<p>有的時候，用命令列就是比較快，所以「終端機」是不可或缺的。</p>
<p>剛開始是用 lxterminal，反正是 LXDE 預設的終端機。
這個其實很好用了，小巧、啓動快，而且由 pcmanfm 可以直接以 F4 在當前目錄啓動，很方便。
但是，當目錄名稱太長時，它的畫面會亂掉，連命令都不能輸入。
而且，我還是想要「半透明背景」，感覺比較酷。</p>
<p>因此，開始了尋找「終端機」大作戰。</p>
<p>Terminal，功能強大，由與衆不同的「視窗分割」，可以隨心所欲地將整個螢幕，水平、垂直分割成想要的排列。
可以同時觀察各個命令執行的狀況。</p>
<p>可惜，啓動太慢，佔用太多的資源。</p>
<p>再試用 urxvt，超強的自訂性，但字體配置太麻煩。</p>
<p>我最喜歡它分頁的樣式和操作方式。
按下 Ctrl+up/down/left/right，就可以更名、新增、向前切換、向後切換各個分頁。</p>
<p>可惜，預設的字型太醜啦，一定要調整。但是，無論如何調整，中文的字距還是太大，和英文字配在一起實在是不好看。</p>
<p>這還不是致命傷。</p>
<p>讓我放棄 urxvt 的最重要的原因是，在我的系統上，常常會突然就 down 掉，而且，和 fcitx 的配合看來不是很穩定。
<strong>urxvt 的中文輸法，需要在~/.Xresources 中加上一句 ``URxvt:inputMethod:fcitx``</strong></p>
<p>最後找到了 Lilyterm：</p>
<ol class="arabic simple">
<li>起動比 lxterminal 還快，資源耗用和 lxterminal 差不多。</li>
<li>不需要另外執行 compton，即可設定透明背景。</li>
<li>預設的字型就很好看，中英文配合得很調和、順眼。不過我還是改成 Droid sans mono。
<strong>update: 其實 lilyterm 的中英文字距和 urxvt 是相同的，中文字距也是很寬</strong>
</li>
<li>如果能調成 urxvt 的分頁樣式就好了，urxvt 的分頁控制真是酷。
<strong>update：lilyterm 可以設定熱鍵，問題解決</strong>
</li>
</ol>
</div>
<div class="section" id="id2">
<h2>安裝、配置</h2>
<pre class="literal-block">
$ yaourt -S lilyterm-git
</pre>
</div>
<div class="section" id="id3">
<h2>鍵盤操作</h2>
<div class="section" id="id4">
<h3>分頁</h3>
<ul class="simple">
<li>新增    C-t</li>
<li>切換    C-pgup/pgdn</li>
<li>移動    C-S-pgup/pgdn</li>
</ul>
</div>
<div class="section" id="id5">
<h3>檢視畫面</h3>
<ul class="simple">
<li>捲動 1 行    S-up/down</li>
<li>捲動 n 行    S-left/right</li>
<li>捲動 1 頁    S-pgup/pgdn</li>
</ul>
</div>
</div>
<div class="section" id="pcmanfm">
<h2>配合 pcmanfm</h2>
<p>在 pcmanfm 按 F4 呼叫時，沒辦法像 lxterminal 一般的到目前觀察的目錄，而是開啓 $HOME。
哈哈，已找到解法，只是很可笑(2013-05-12)：</p>
<p>先建立一個 shell script，我定名爲 pcmanterm</p>
<pre class="literal-block">
#!/bin/bash
lilyterm $@
</pre>
<p>然後在 pcmanfm 中，設定 terminal 爲</p>
<pre class="literal-block">
pcmanterm %s
</pre>
<p>按 F4 呼叫 terminal，OK 啦。</p>
</div>
</div>
    </div>
    </article><article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="posts/ffmpeg-xin-de/" class="u-url">ffmpeg 使用心得與整理</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Mario Long
            </span></p>
            <p class="dateline"><a href="posts/ffmpeg-xin-de/" rel="bookmark"><time class="published dt-published" datetime="2013-05-02T10:45:30+08:00" title="2013-05-02 10:45">2013-05-02 10:45</time></a></p>
                <p class="commentline">
        
    <a href="posts/ffmpeg-xin-de/#disqus_thread" data-disqus-identifier="cache/posts/ffmpeg m2ipod.html">Comments</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <div>
<div class="section" id="ffmpeg">
<h2>ffmpeg 使用心得</h2>
<p>使用了一陣子的 FFMpeg 處理影片，越用越喜歡這套軟體。</p>
<p>一開始，為了要將影片轉成 ipod touch 3 代可用的格式，特別學習 ffmpeg，試了好幾天，終於找出來滿意的方法，特此記錄下來，免得忘了。</p>
<div class="section" id="id1">
<h3>轉檔時的指令</h3>
<pre class="literal-block">
ffmpeg -i $1 -s 720x406 -vpre ipod -ac 2 -sn -vf subtitles=$1.srt $1.mp4
</pre>
<p>其中</p>
<dl class="docutils">
<dt>-i $1</dt>
<dd>$1 是要轉檔的檔名</dd>
<dt>-s 720x406</dt>
<dd>是設定轉檔後的解析度，406 = 720 * 720 / 1280，（原始檔的解析度為 1280x720）。這個一定要去計算，不然，在電視上看，畫面比例會不對，字幕可能出不來。</dd>
<dt>-vpre ipod</dt>
<dd>是為了 ipod 特別找出來的 preset，設定如後。</dd>
<dt>--ac 2</dt>
<dd>是轉成立體聲，不然 ipod touch 沒辦法播放。</dd>
</dl>
<table class="docutils option-list" frame="void" rules="none">
<col class="option">
<col class="description">
<tbody valign="top">
<tr>
<td class="option-group">
<kbd><span class="option">--sn</span></kbd>
</td>
<td>不顯示原始檔中的字幕。因為，我要用另外的字幕檔。</td>
</tr>
<tr>
<td class="option-group">
<kbd><span class="option">--vf <var>subtitles</var></span></kbd>
</td>
<td>為 srt 字幕檔。</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="preset">
<h3>preset 設定</h3>
<p>preset 可以放在 ~/.ffmpeg，檔名為 <em>arg</em>.ffpreset。
例如，我設定了一個專門轉到 ipod touch 的 preset 檔，命名為 ipod.ffpreset。</p>
<pre class="literal-block">
strict=-2

vcodec=libx264
vprofile=main
level=30
maxrate=10000000
bufsize=10000000

preset=fast
#preset=slower

crf=20
#bf=0
#refs=1

#ab=192k
</pre>
</div>
</div>
<div class="section" id="id2">
<h2>字幕</h2>
<p>參考
<a class="reference external" href="http://ffmpeg.org/trac/ffmpeg/wiki/How%20to%20burn%20subtitles%20into%20the%20video">How to burn subtitles into the video</a></p>
<div class="section" id="id3">
<h3>原檔中已有圖片格式的字幕</h3>
<p>原檔中已有圖片格式的字幕時，可直接燒錄：</p>
<pre class="literal-block">
-filter_complex '[0:v][0:s:1]overlay[v]' -map [v] -map 0:a
</pre>
<p>此處 -map 一定要下，不然會有錯誤訊息。
其中 <cite>-map 0:a</cite> 是指所有的音軌，也可以直接指定音軌 <cite>-map 0:1</cite></p>
<p>出現的訊息如下：</p>
<pre class="literal-block">
Stream mapping:
  Stream #0:0 (h264) -&gt; overlay:main (graph 0)
  Stream #0:4 (pgssub) -&gt; overlay:overlay (graph 0)
  overlay (graph 0) -&gt; Stream #0:0 (libx264)
</pre>
</div>
<div class="section" id="id4">
<h3>加入外部字幕檔</h3>
<div class="section" id="id5">
<h4>1. 自行編輯字幕檔</h4>
<p>這個很少用到，在 linux 中，就找到 aegisub 是可用的，那就拿來用了，沒有什麼特別的考慮。</p>
</div>
<div class="section" id="mkv-srt-ass">
<h4>2. 提取 mkv 內 srt 或 ass 字幕</h4>
<p>提取 mkv 內的文字字幕，用</p>
<pre class="literal-block">
ffmpeg -i $1.mkv -vn -an -scodec copy $1.ssa
</pre>
<p>或：</p>
<pre class="literal-block">
ffmpeg -i $1.mkv -vn -an -scodec copy $1.srt
</pre>
<p>有時會出現下列的錯誤訊息，內嵌的應該就是圖片格式字幕。</p>
<pre class="literal-block">
Could not write header for output file #0 (incorrect codec parameters ?): Operation not permitted
</pre>
<p>爲了能改變字型大小，使用 ass 格式。</p>
</div>
<div class="section" id="srt">
<h4>3. srt</h4>
<p>先轉成 ssa 檔，</p>
<pre class="literal-block">
ffmpeg -i s.srt s.ssa
</pre>
<p>s.ssa 中加上</p>
<pre class="literal-block">
; 同步字幕
Synch Point:0
; PlayResX/Y 影片解析度
PlayResX:720
PlayResY:480
; 調整字幕速度
Timer:100.0000
</pre>
<p>作出 ssa 檔後，可以用文字編輯器開啓，修改一下 fontname 和 fontsize，讓字型美一點。
各參數用法見 <a class="reference external" href="http://hkgoldenmra.blogspot.tw/2013/01/ass.html">ASS 字幕格式</a></p>
<p>如果不想控制字幕格式，就不須轉成 ass 格式，就用下列指令燒錄到影片。</p>
<pre class="literal-block">
-vf subtitles=sub.srt
</pre>
</div>
<div class="section" id="id6">
<h4>4. 字幕轉成繁體</h4>
<p>可以再用 opencc 把字幕轉成繁體：</p>
<pre class="literal-block">
opencc -i $1.ssa -o o.ssa
</pre>
</div>
<div class="section" id="id7">
<h4>5. ass</h4>
<p>用 -vf 燒錄到影片中。</p>
<pre class="literal-block">
-vf ass=s.ssa
</pre>
<p>或直接加入影片中，不是燒錄上去。</p>
<pre class="literal-block">
ffmpeg -i video.avi -i sub.ass -map 0:0 -map 0:2 -map 1 -c:a copy -c:v copy -c:s copy video.mkv
</pre>
<p>其中 video.avi 有一個視頻軌、兩個音頻軌，取其中的視頻軌 (mpa 0:0) 和第二個音頻軌 (map 0:2)
加 sub.ass (map 1) 做成 video.mkv 而不重新編碼。</p>
<p>重點注意： -i sub.ass -map 1 -c:s copy。
此處的 sub.ass 也可以是 sub.srt。</p>
</div>
</div>
</div>
<div class="section" id="id8">
<h2>影片翻轉</h2>
<pre class="literal-block">
-vf transpose=2
</pre>
<p>transpose=1 順時針 90 度</p>
<p>transpose=2 逆時針 90 度</p>
<p>完整指令</p>
<pre class="literal-block">
$ ffmpeg -i 20150913145954.m2ts -c:a copy -q:v 0 -c:v libx264 -vf transpose=1 20150913145954.mkv
</pre>
<p>轉成 mkv 是為了保留原來聲音的品質</p>
</div>
<div class="section" id="id9">
<h2>合併多個影片</h2>
<p>參考 <a class="reference external" href="http://ffmpeg.org/trac/ffmpeg/wiki/How%20to%20concatenate%20%28join,%20merge%29%20media%20files">How to concatenate (join, merge) media files</a></p>
<p>mpeg:</p>
<pre class="literal-block">
ffmpeg -i "concat:input1.mpg|input2.mpg|input3.mpg" -c copy output.mpg
</pre>
<p>not mpeg:</p>
<pre class="literal-block">
This is easiest to explain using an example::

    ffmpeg -i input1.mp4 -i input2.webm \
    -filter_complex '[0:0] [0:1] [1:0] [1:1] concat=n=2:v=1:a=1 [v] [a]' \
    -map '[v]' -map '[a]' &lt;encoding options&gt; output.mkv

On the -filter_complex line, the following:

'[0:0] [0:1] [1:0] [1:1]
tells ffmpeg what streams to send to the concat filter;
in this case, streams 0 and 1 from input 0 (input1.mp4 in this example),
and streams 0 and 1 from input 1 (input2.webm).

concat=n=2:v=1:a=1 [v] [a]'
This is the concat filter itself. n=2 is telling the filter that there are two input files;
v=1 is telling it that there will be one video stream;
a=1 is telling it that there will be one audio stream.
[v] and [a] are names for the output streams, to allow the rest of the ffmpeg line to use the output of the concat filter.

Note that the single quotes ' ' around the whole filter section are required.

-map '[v]' -map '[a]'
This tells ffmpeg to use the results of the concat filter rather than
the streams directly from the input files.
</pre>
<div class="section" id="catflv">
<h3>catflv</h3>
<p>寫了個小小的 script，用來合併 flv，並轉成 ipod 可用的 mp4。</p>
<pre class="literal-block">
#!/bin/bash

icnt=0

for file in $@
do
    filenames="$filenames -i $file "
    scat="$scat[$icnt:0][$icnt:1]"

    #echo $filenames, [$icnt], $scat
    icnt=$(($icnt+1))

done

scmd="ffmpeg $filenames -filter_complex '$scat concat=n=$#:v=1:a=1 [v] [a]' -map '[v]' -map '[a]' -vpre ipod -ab 132k out.mp4"
echo $scmd
eval $scmd
</pre>
</div>
<div class="section" id="mp4">
<h3>合併 mp4</h3>
<pre class="literal-block">
fmpeg -i s1.mp4 -c copy -vbsf h264_mp4toannexb out1.ts
fmpeg -i s2.mp4 -c copy -vbsf h264_mp4toannexb out2.ts
cat out[12].ts | ffmpeg -i - -c copy -absf aac_adtstoasc ab.mp4
</pre>
</div>
<div class="section" id="mkv-mp4">
<h3>MKV 轉成 mp4</h3>
<p>如果要在 ipod 或智慧型手機上看，那就不需要太考慮品質，能用就好。
就用上面轉好的 mkv 檔，再轉一次。
如此，既可以用 mkv 保存高品質的影片，再轉成 mp4 的速度也比較快。</p>
<p>這是要注意字幕是圖片格式或是 srt/ass 文字式。</p>
<div class="section" id="id10">
<h4>字幕是圖片格式</h4>
<p>用 -filter_complex 直接燒錄：</p>
<pre class="literal-block">
$ ffmpeg -i a.mkv \
-filter_complex '[0:v][0:s:1]overlay[v]' -map [v] -map 0:a \
-vpre ipod -ac 2 -ab 192k \
-y a.mp4
</pre>
</div>
<div class="section" id="srt-ass">
<h4>字幕是 srt 或 ass</h4>
<ol class="arabic simple">
<li>先處理字幕檔 (前述)</li>
</ol>
<p>2. 用 -vf subtiles=a.srt 或 -vf ass=a.ass 把字幕燒進 mp4 中。</p>
<pre class="literal-block">
$ ffmpeg -i a.mkv \
-vpre ipod -ac 2 -ab 192k \
-vf subtitles=a.srt \
-y a.mp4
</pre>
</div>
</div>
</div>
<div class="section" id="metadata">
<h2>metadata</h2>
<p>參考 <a class="reference external" href="http://ffmpeg.org/ffmpeg.html">ffmpeg</a></p>
<div class="section" id="title">
<h3>加入名稱 (title)</h3>
<p>-metadata[:metadata_specifier] key=value (output,per-metadata)
Set a metadata key/value pair.</p>
<p>An optional metadata_specifier may be given to set metadata on streams or chapters.
See -map_metadata documentation for details.</p>
<p>This option overrides metadata set with -map_metadata.
It is also possible to delete metadata by using an empty value.</p>
<p>For example, for setting the title in the output file</p>
<pre class="literal-block">
ffmpeg -i in.avi -metadata title="my title" out.flv
</pre>
<p>To set the language of the first audio stream</p>
<pre class="literal-block">
ffmpeg -i INPUT -metadata:s:a:1 language=eng OUTPUT
</pre>
<p>例子：</p>
<pre class="literal-block">
-metadata:s:1 title="日語" -metadata:s:2 title="國語" -metadata:s:3 title="中文"
</pre>
</div>
<div class="section" id="id12">
<h3>加入章節</h3>
<p>-map_metadata[:metadata_spec_out] infile[:metadata_spec_in] (output,per-metadata)’</p>
<p>Set metadata information of the next output file from infile. Note that those are file indices (zero-based), not filenames. Optional metadata_spec_in/out parameters specify, which metadata to copy. A metadata specifier can have the following forms:</p>
<dl class="docutils">
<dt>‘g’</dt>
<dd>global metadata, i.e. metadata that applies to the whole file</dd>
<dt>‘s[:stream_spec]’</dt>
<dd>per-stream metadata. stream_spec is a stream specifier as described in the Stream specifiers chapter. In an input metadata specifier, the first matching stream is copied from. In an output metadata specifier, all matching streams are copied to.</dd>
<dt>‘c:chapter_index’</dt>
<dd>per-chapter metadata. chapter_index is the zero-based chapter index.</dd>
<dt>‘p:program_index’</dt>
<dd>per-program metadata. program_index is the zero-based program index.</dd>
</dl>
<p>If metadata specifier is omitted, it defaults to global.</p>
<p>By default, global metadata is copied from the first input file,
per-stream and per-chapter metadata is copied along with streams/chapters.
These default mappings are disabled by creating any mapping of the relevant type.
A negative file index can be used to create a dummy mapping that just disables automatic copying.</p>
<p>For example to copy metadata from the first stream of the input file to global metadata of the output file:</p>
<pre class="literal-block">
ffmpeg -i in.ogg -map_metadata 0:s:0 out.mp3
</pre>
<p>To do the reverse, i.e. copy global metadata to all audio streams:</p>
<pre class="literal-block">
ffmpeg -i in.mkv -map_metadata:s:a 0:g out.mkv
</pre>
<p>Note that simple 0 would work as well in this example, since global metadata is assumed by default.</p>
<dl class="docutils">
<dt>‘-map_chapters input_file_index (output)’</dt>
<dd>Copy chapters from input file with index input_file_index to the next output file.
If no chapter mapping is specified, then chapters are copied from the first input file with at least one chapter.
Use a negative file index to disable any chapter copying.</dd>
</dl>
</div>
</div>
<div class="section" id="convert-mp4-to-jpg">
<h2>convert mp4 to jpg</h2>
<p>htc new one 有個連拍的功能，她是存成 mp4 檔，爲了把 mp4 還原爲 jpg，
可以用下列指令</p>
<pre class="literal-block">
$ ffmpeg -i M4H08111.MP4 -b 2000 -qscale 1 -qcomp 0 -qblur 0 foo-%03d.jpeg
$ ffmpeg -i 20131112115026.m2ts -an -ss 00:00:18 -t 2 -b 2000 -qscale 1 -qcomp 0 -qblur 0 wuo-shuo-%03d.jpg
</pre>
<p>jpg 基本擷圖範例:</p>
<pre class="literal-block">
ffmpeg -i test.flv -an -ss 00:00:10 -y test.jpg
</pre>
<p>jpg 進階擷圖範例:</p>
<pre class="literal-block">
ffmpeg -i test.flv -an -ss 00:00:42 -r 10 -vframes 70 -y NolanRyan-%d.jpg
</pre>
<p>-i：影片名稱
-an：把音訊 audio 取消
-ss：00:00:42 從第 42 秒鐘開始擷取
-r：10 每秒抓 10 張圖 (單位是 Hz，所以這個值設得越高，每秒鐘抓出來的圖檔越多)
-vframes：70 總共要抓 70 張圖，與上面的 -r 10 搭配之下，表示要抓長達 70/10 = 7 秒鐘的影像，並轉換成圖檔。
-y %d.jpg：表示抓出來的圖檔副檔名為 jpg，而檔名 %d 表示圖檔檔名會以數字 digit 的型式自動編號。</p>
</div>
<div class="section" id="id13">
<h2>音量調整</h2>
<div class="section" id="id14">
<h3>改變音量</h3>
<p>如果要改變音量，你可以使用 volume filter，用法如下。</p>
<p>0.5 倍音量:</p>
<pre class="literal-block">
ffmpeg -i input.wav -af "volume=0.5" output.wav
</pre>
<p>1.5 倍音量:</p>
<pre class="literal-block">
ffmpeg -i input.wav -af "volume=1.5" output.wav
</pre>
<p>使用分貝單位:</p>
<pre class="literal-block">
ffmpeg -i input.wav -af "volume=5dB" output.wav
</pre>
</div>
<div class="section" id="id15">
<h3>音量正常化</h3>
<p>如果要將一個音訊的音量正常化，可以使用 volumedetect 檢測音量峰值 (max_volume)，
然後使用 volume filter 將音量峰值歸零或接近零即可，如果音量峰值是 -6 dB 則提高 6
dB 就能歸零。</p>
<p>例如要將一個 WAV 音訊轉為 AAC 格式並將音量正常化，
首先，使用 VolumeDetect 檢測音量:</p>
<pre class="literal-block">
ffmpeg -i input.wav -af "volumedetect" -f null -
</pre>
<p>假設 VolumeDetect 輸出訊息為:</p>
<pre class="literal-block">
[Parsed_volumedetect_0 @ 0x7f8ba1c121a0] mean_volume: -16.0 dB

[Parsed_volumedetect_0 @ 0x7f8ba1c121a0] max_volume: -5.0 dB

[Parsed_volumedetect_0 @ 0x7f8ba1c121a0] histogram_0db: 87861
</pre>
<p>由上面輸出訊息得知音量峰值 (max_volume) 為 -5 dB，
所以要將音量峰值歸零需要提高 5dB。</p>
<pre class="literal-block">
ffmpeg -i input.wav -af "volume=5dB" output.aac
</pre>
</div>
<div class="section" id="downmixing">
<h3>Downmixing</h3>
<p>如果用了 pan filter 或是 -ac 選項來混合聲道 (Mix channels) ，你會發現輸出的音
訊的音量變小
可以用同樣的參數設定加上 volumedetect filter 來檢測混合聲道後的音量。</p>
<p>將多聲道降混 (downmix) 為雙聲道:</p>
<pre class="literal-block">
ffmpeg -i 6ch.mkv -ac 2 2ch.mkv
</pre>
<p>你可以發現輸出音訊的音量變小，
如果需要正常化音量必須先使用 VolumeDetect filter 檢測 downmix 之後的音量。</p>
<p>使用 VolumeDetect 檢測 downmix 之後的音量:</p>
<pre class="literal-block">
ffmpeg -i 6ch.mkv -ac 2 -af "volumedetect" -f null -
</pre>
<p>注意因為是要檢測 downmix 為雙聲道之後的音量所以 -ac 2 是必要的。</p>
<p>假設 VolumeDetect 輸出訊息為:</p>
<pre class="literal-block">
[Parsed_volumedetect_0 @ 00600c60] n_samples: 814080

[Parsed_volumedetect_0 @ 00600c60] mean_volume: -29.5 dB

[Parsed_volumedetect_0 @ 00600c60] max_volume: -7.9 dB
</pre>
<p>由上面輸出訊息得知音量峰值 (max_volume) 為 -7.9 dB，
所以要將音量峰值歸零需要提高 7.9dB。</p>
<p>將多聲道降混 (downmix) 為雙聲道並正常化音量:</p>
<pre class="literal-block">
ffmpeg -i 6ch.mkv -ac 2 -af "volume=7.9dB" 2ch.mkv
</pre>
</div>
</div>
<div class="section" id="id16">
<h2>參考資料</h2>
<ol class="arabic simple">
<li><a class="reference external" href="https://ffmpeg.org/trac/ffmpeg/wiki/x264EncodingGuide">FFmpeg wiki: x264EncodingGuide</a></li>
</ol>
</div>
</div>
    </div>
    </article><article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="posts/LVM-on-archlinux/" class="u-url">LVM on Archlinux</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Mario Long
            </span></p>
            <p class="dateline"><a href="posts/LVM-on-archlinux/" rel="bookmark"><time class="published dt-published" datetime="2013-04-30T12:41:30+08:00" title="2013-04-30 12:41">2013-04-30 12:41</time></a></p>
                <p class="commentline">
        
    <a href="posts/LVM-on-archlinux/#disqus_thread" data-disqus-identifier="cache/posts/LVM on Archlinux.html">Comments</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <div>
<p>參考 <a class="reference external" href="https://wiki.archlinux.org/index.php/LVM">Archlinux wiki</a>，
因爲這篇 wiki 中提到了 <a class="reference external" href="posts/btrfs/">btrfs</a> ，花了一些時間去研究它，結果不好用。</p>
<p>還是回來用 LVM，我只是要他的可擴充性：硬碟不夠時，再加一顆就好。</p>
<div class="section" id="lvm">
<h2>建立 LVM</h2>
<div class="section" id="pv">
<h3>pv 階段</h3>
<p>用 gparted 設定，將要用的分區格式化成 lvm2 pv 即可。</p>
<p>pvdisplay 看看:</p>
<pre class="literal-block">
$ sudo pvdisplay
--- Physical volume ---
PV Name               /dev/sdb8
VG Name               VG00
PV Size               15.04 GiB / not usable 0
Allocatable           yes (but full)
PE Size               4.00 MiB
Total PE              3849
Free PE               0
Allocated PE          3849
PV UUID               76qMPb-k4bl-jHVi-w0d6-DqEO-ffpq-l2jnpU

--- Physical volume ---
PV Name               /dev/sdb9
VG Name               VG00
PV Size               15.13 GiB / not usable 2.00 MiB
Allocatable           yes (but full)
PE Size               4.00 MiB
Total PE              3874
Free PE               0
Allocated PE          3874
PV UUID               nuSNwv-w4kq-VOrG-7zSI-jom6-MDTY-01yZps
</pre>
</div>
<div class="section" id="vg">
<h3>vg 階段</h3>
<p>建立以 VG00 爲名的 VG:</p>
<pre class="literal-block">
$ lsblk -f
$ vgcreate VG00 /dev/sdb8
$ vgextend VG00 /dev/sdb9
$ vgdisplay
--- Volume group ---
  VG Name               VG00
  System ID
  Format                lvm2
  Metadata Areas        2
  Metadata Sequence No  3
  VG Access             read/write
  VG Status             resizable
  MAX LV                0
  Cur LV                1
  Open LV               0
  Max PV                0
  Cur PV                2
  Act PV                2
  VG Size               30.17 GiB
  PE Size               4.00 MiB
  Total PE              7723
  Alloc PE / Size       7723 / 30.17 GiB
  Free  PE / Size       0 / 0
  VG UUID               BslpFB-0DUQ-PHdf-BAIj-o7WC-fWQ0-7PkJNe
</pre>
</div>
<div class="section" id="lv">
<h3>lv 階段</h3>
<p>建立以 LV00 爲名的 LV</p>
<pre class="literal-block">
$ lvcreate -l +100%FREE VG00 -n LV00
$ lvdisplay
  --- Logical volume ---
  LV Path                /dev/VG00/LV00
  LV Name                LV00
  VG Name                VG00
  LV UUID                d0MSXz-bcmL-XZ3R-gjyR-X1C7-P0y0-ODe0uM
  LV Write Access        read/write
  LV Creation host, time arch-64, 2013-04-30 13:11:43 +0800
  LV Status              available
  # open                 0
  LV Size                30.17 GiB
  Current LE             7723
  Segments               2
  Allocation             inherit
  Read ahead sectors     auto
  - currently set to     256
  Block device           254:0
</pre>
</div>
<div class="section" id="create-filesystems-and-mount-logical-volumes">
<h3>Create filesystems and mount logical volumes</h3>
<pre class="literal-block">
$ modprobe dm-mod
$ vgscan

  Reading all physical volumes.  This may take a while...
  Found volume group "VG00" using metadata type lvm2

$ vgchange -ay

  1 logical volume(s) in volume group "VG00" now active
</pre>
<p>format and mount:</p>
<pre class="literal-block">
$ mkfs.ext4 /dev/mapper/VG00-LV00
$ mount /dev/mapper/VG00-LV00 /mnt/lvmtest
</pre>
</div>
<div class="section" id="add-lvm-hook-to-mkinitcpio-conf">
<h3>Add lvm hook to mkinitcpio.conf</h3>
<p>You'll need to make sure the udev and lvm2 mkinitcpio hooks are enabled.
udev is there by default.
Edit the file and insert lvm2 between block and filesystem like so:</p>
<pre class="literal-block">
$ nano /etc/mkinitcpio.conf
HOOKS="base udev ... block lvm2 filesystems"
</pre>
<p>Afterwards, you can continue in normal installation instructions with the create an initial ramdisk step.</p>
<p>Load proper module:</p>
<pre class="literal-block">
$ modprobe dm_mod
</pre>
<p>The dm_mod module should be automatically loaded. In case it does not, you can try:</p>
<pre class="literal-block">
$ nano /etc/mkinitcpio.conf
MODULES="dm_mod ..."
</pre>
<p>rebuild:</p>
<pre class="literal-block">
$ mkinitcpio -p linux
</pre>
</div>
<div class="section" id="auto-mount-by-etc-fstab">
<h3>auto mount by /etc/fstab</h3>
<pre class="literal-block">
$ nano /etc/fstab
UUID=&lt;LV UUID&gt;      /mnt/lvmtest    ext4    defaults    0   0
</pre>
</div>
</div>
<div class="section" id="id1">
<h2>增加一顆硬碟</h2>
<p>確定要加入那顆硬碟</p>
<pre class="literal-block">
$ lsblk -f
</pre>
<p>做好 partition，
將那顆硬碟設為 lvm pv</p>
<pre class="literal-block">
$ gparted
$ lsblk -f

NAME          FSTYPE                        LABEL    UUID                                   MOUNTPOINT
sdd
└─sdd1        LVM2_member                            hr0IbE-tO9I-vm9d-1x8f-iJwq-mrHj-bT0Pth
  └─VG01-LV00 ext4                                   86068ca8-289d-480a-87db-2680b13d00e3   /mnt/data-lvm
sde           promise_fasttrack_raid_member
└─sde1        LVM2_member                            CGrblY-v1n3-Lzil-iwym-3Wyk-wPQS-Gqztrn
</pre>
<p>pvcreate</p>
<pre class="literal-block">
$ sudo pvcreate /dev/sde1
Physical volume "/dev/sde1" successfully created

$ sudo vgdisplay
  --- Volume group ---
  VG Name               VG01
  System ID
  Format                lvm2
  Metadata Areas        3
  Metadata Sequence No  3
  VG Access             read/write
  VG Status             resizable
  MAX LV                0
  Cur LV                1
  Open LV               1
  Max PV                0
  Cur PV                3
  Act PV                3
  VG Size               3.18 TiB
  PE Size               4.00 MiB
  Total PE              834631
  Alloc PE / Size       476932 / 1.82 TiB
  Free  PE / Size       357699 / 1.36 TiB
  VG UUID               8uHaKD-23zK-W5by-EJPE-5hpN-3PmN-6yY1Wl
</pre>
<p>vgextend</p>
<pre class="literal-block">
$ sudo vgextend VG01 /dev/sde1
Volume group "VG01" successfully extended

$ sudo lvdisplay
  --- Logical volume ---
  LV Path                /dev/VG01/LV00
  LV Name                LV00
  VG Name                VG01
  LV UUID                0GSsZv-vzJQ-7mMk-rwsH-or0D-cDjJ-4OQFGd
  LV Write Access        read/write
  LV Creation host, time arch-64, 2013-04-30 19:20:38 +0800
  LV Status              available
  # open                 1
  LV Size                1.82 TiB
  Current LE             476932
  Segments               2
  Allocation             inherit
  Read ahead sectors     auto
  - currently set to     256
  Block device           254:0
</pre>
<p>擴增剛剛設好的 lv</p>
<pre class="literal-block">
$ lvextend -l +100%FREE VG01/LV00
</pre>
<p>df 看一下，發現 lv 容量還沒有增加</p>
<pre class="literal-block">
$ df
檔案系統               1K-blocks       已用      可用 已用% 掛載點
/dev/mapper/VG01-LV00 1922728752 1798892248  26144448   99% /mnt/data-lvm
</pre>
<p>原來是，還要 resize file system</p>
<pre class="literal-block">
＄ resize2fs /dev/VG01/LV00
</pre>
<p>df 看一下，發現 lv 容量增加囉</p>
<pre class="literal-block">
$ df
檔案系統               1K-blocks       已用       可用 已用% 掛載點
/dev/mapper/VG01-LV00 3364872816 1798895476 1409685920   57% /mnt/data-lvm
</pre>
</div>
<div class="section" id="what-is-the-maximum-size-of-a-single-lv">
<h2>What is the maximum size of a single LV?</h2>
<p>ref: <a class="reference external" href="http://www.tldp.org/HOWTO/LVM-HOWTO/lvm2faq.html">http://www.tldp.org/HOWTO/LVM-HOWTO/lvm2faq.html</a></p>
<p>The answer to this question depends upon the CPU architecture of your computer and the kernel you are a running:</p>
<p>For 2.4 based kernels, the maximum LV size is 2TB. For some older kernels,
however, the limit was 1TB due to signedness problems in the block layer.
Red Hat Enterprise linux 3 Update 5 has fixes to allow the full 2TB LVs.
Consult your distribution for more information in this regard.</p>
<p>For 32-bit CPUs on 2.6 kernels, the maximum LV size is 16TB.</p>
<p>For 64-bit CPUs on 2.6 kernels, the maximum LV size is 8EB. (Yes, that is a very large number.)</p>
</div>
</div>
    </div>
    </article><article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="posts/lxde-pei-zhi/" class="u-url">lxde 配置</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Mario Long
            </span></p>
            <p class="dateline"><a href="posts/lxde-pei-zhi/" rel="bookmark"><time class="published dt-published" datetime="2013-04-29T12:43:24+08:00" title="2013-04-29 12:43">2013-04-29 12:43</time></a></p>
                <p class="commentline">
        
    <a href="posts/lxde-pei-zhi/#disqus_thread" data-disqus-identifier="cache/posts/lxde-pei-zhi.html">Comments</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <div>
<!-- post_list: -->
<div class="section" id="install-lxde">
<h2>Install LXDE</h2>
<p>用來用去，還是簡單點好，就用 lxde，把它搞好，也就夠用了。</p>
<pre class="literal-block">
$ pacman -S lxde
</pre>
<p>登入 x 後，自動啟動 lxde。</p>
<pre class="literal-block">
$ nano ~/.xinitrc
</pre>
<p>在最後加上</p>
<pre class="literal-block">
exec startlxde
</pre>
<p>備忘一些 lxde 配置的方法</p>
</div>
<div class="section" id="pcmanfm">
<h2>安裝 pcmanfm</h2>
<pre class="literal-block">
yaourt -S pcmanfm-git
</pre>
<div class="section" id="terminal-lilyterm">
<h3>terminal 改成 lilyterm</h3>
<p>參考 <a class="reference external" href="posts/lxde-pei-zhi/lilyterm.html">lilyterm 使用心得與整理</a></p>
</div>
</div>
<div class="section" id="desktop">
<h2>在特定的桌面 (Desktop) 開啟應用程式</h2>
<div class="section" id="name">
<h3>確認應用程式的 name</h3>
<p>Run <cite>obxprop | grep "^_OB_APP"</cite> to see the value of these five properties.
The output will look like:</p>
<pre class="literal-block">
_OB_APP_TYPE(UTF8_STRING) = "normal"
_OB_APP_CLASS(UTF8_STRING) = "Google-chrome"
_OB_APP_NAME(UTF8_STRING) = "google-chrome"
_OB_APP_ROLE(UTF8_STRING) =
_OB_APP_TITLE(UTF8_STRING) = "Google Chrome"
</pre>
<p>You have to specify at least one of class and name.</p>
</div>
<div class="section" id="config-openbox-lxde-rc-xml">
<h3>編輯 <cite>~/.config/openbox/lxde-rc.xml</cite>
</h3>
<pre class="literal-block">
&lt;applications&gt;

     &lt;application name="lxterminal"&gt;
       &lt;desktop&gt;5&lt;/desktop&gt;
       &lt;maximized&gt;no&lt;/maximized&gt;
       &lt;focus&gt;yes&lt;/focus&gt;
     &lt;/application&gt;

&lt;/applications&gt;
</pre>
</div>
<div class="section" id="config-lxsession-lxde-autostart">
<h3>編輯 <cite>~/.config/lxsession/LXDE/autostart</cite>
</h3>
<p>加上要執行的應用程式:</p>
<pre class="literal-block">
pcmanfm -d      # 以 daemon mode 開啓 pcmanfm
@fcitx
</pre>
<p>在重啟 lxde(openbox) 後，即可看到效果。</p>
</div>
</div>
</div>
    </div>
    </article><article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="posts/btrfs/" class="u-url">btrfs 使用筆記</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Mario Long
            </span></p>
            <p class="dateline"><a href="posts/btrfs/" rel="bookmark"><time class="published dt-published" datetime="2013-04-28T12:43:24+08:00" title="2013-04-28 12:43">2013-04-28 12:43</time></a></p>
                <p class="commentline">
        
    <a href="posts/btrfs/#disqus_thread" data-disqus-identifier="cache/posts/btrfs.html">Comments</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <div>
<div class="section" id="btrfs">
<h2>btrfs</h2>
<p>試試看新的 filesystem</p>
<p>2013/4/30 update: 問題還很多。</p>
<ol class="arabic simple">
<li>明明還有空間，卻會回報「空間用完」，試着在刪除一些檔案，空間還是不足。</li>
<li>速度上明顯比 ext4 慢。</li>
</ol>
<p>等到真的穩定了再來用吧。還是回頭先用 LVM 這個比較穩定的系統。</p>
<div class="section" id="id1">
<h3>安裝 btrfs 工具</h3>
<pre class="literal-block">
$ sudo pacman -S btrfs-progs
</pre>
</div>
<div class="section" id="format">
<h3>Format</h3>
<p>我有 2 顆硬碟，用來裝電影，不需要用到 RAID1 做備份。
因此，我是用 RAID0 將這 2 顆硬碟變成一顆大硬碟，管理上比較方便。</p>
<pre class="literal-block">
# 確認硬碟代碼
$ lsblk -f

# format 成 btrfs 格式
$ mkfs.btrfs -m raid0 /dev/sdb /dev/sdc

# 再確認 UUID
$ lsblk -f
</pre>
</div>
<div class="section" id="mount">
<h3>Mount</h3>
<p>mount 時，隨便用那一顆硬碟的代碼都行：</p>
<pre class="literal-block">
$ mount /dev/sdb /mnt/movie
</pre>
<p>修改 /etc/fstab，開機時可自動掛上：</p>
<pre class="literal-block">
UUID=&lt;UUID&gt;     /mnt/movie      btrfs           defaults,compress=lzo        0       0
</pre>
<p>簡單設定如上。</p>
</div>
<div class="section" id="id2">
<h3>平衡 2 顆硬碟的負載</h3>
<pre class="literal-block">
$ btrfs filesystem balance /mnt/movie
</pre>
<p>The balance operation will take some time.
It reads in all of the FS data and metadata and rewrites it across the new device.</p>
</div>
<div class="section" id="id3">
<h3>可以看看 btrfs 磁碟的狀況</h3>
<pre class="literal-block">
$ btrfs filesystem show

Label: none  uuid: 3f5fe016-9af6-4910-9671-889b0ccfcfcd
Total devices 2 FS bytes used 344.88GB
devid    2 size 931.51GB used 173.00GB path /dev/sde
devid    1 size 931.51GB used 173.00GB path /dev/sdc
</pre>
<p>2 顆硬碟的用量果然平衡。</p>
</div>
<div class="section" id="changing-raid-level">
<h3>Changing RAID Level</h3>
<pre class="literal-block">
btrfs balance start -dconvert=raid1 -mconvert=raid1 /mnt
</pre>
<p><a class="reference external" href="http://www.howtoforge.com/a-beginners-guide-to-btrfs-p2">dd</a></p>
</div>
<div class="section" id="device">
<h3>新增刪除 device</h3>
<p>不小心把磁碟用完了，想刪除一些沒用的檔案，竟然也失敗。
還好先前有練習用的 /dev/sdb8，把它加上去看看，有沒有救。</p>
<pre class="literal-block">
$ sudo btrfs device add /dev/sdb9 /mnt/movie
</pre>
<p>還好成功了。處理完畢，刪掉它。</p>
<pre class="literal-block">
$ sudo btrfs device delete /dev/sdb9 /mnt/movie
</pre>
<p>在這個過程中，意外發現另一件事：當我把 /dev/sdb9 加上後，原先在 sdb9 的資料就消失啦。
意味着 btrfs 不夠聰明到可以保留原本的資料。</p>
</div>
</div>
<div class="section" id="id4">
<h2>參考資料</h2>
<p><a class="reference external" href="https://wiki.archlinux.org/index.php/Btrfs">Btrfs: Archlinux wiki</a></p>
<p><a class="reference external" href="https://btrfs.wiki.kernel.org/index.php/Main_Page">Btrfs wiki: Main page</a></p>
<p><a class="reference external" href="https://btrfs.wiki.kernel.org/index.php/Using_Btrfs_with_Multiple_Devices">Btrfs wiki: Using Btrfs with Multiple Devices</a></p>
<p><a class="reference external" href="https://btrfs.wiki.kernel.org/index.php/Mount_options">Btrfs wiki: Mount Options</a></p>
<p><a class="reference external" href="https://btrfs.wiki.kernel.org/index.php/UseCases">Btrfs wiki: UseCases</a></p>
<div class="section" id="device-scanning">
<h3>Device scanning</h3>
<p>btrfs device scan is used to scan all of the block devices under /dev and probe for Btrfs volumes. This is required after loading the btrfs module if you're running with more than one device in a filesystem.</p>
<pre class="literal-block">
# Scan all devices
$ btrfs device scan

# Scan a single device
$ btrfs device scan /dev/sdb
</pre>
<p>btrfs filesystem show will print information about all of the btrfs filesystems on the machine.</p>
</div>
<div class="section" id="adding-new-devices">
<h3>Adding new devices</h3>
<p>btrfs filesystem show gives you a list of all the btrfs filesystems on the systems and which devices they include.
btrfs device add is used to add new devices to a mounted filesystem.
btrfs filesystem balance can balance (restripe) the allocated extents across all of the existing devices. For example:</p>
<pre class="literal-block">
$ mkfs.btrfs /dev/sdb
$ mount /dev/sdb /mnt

# Create some files
$ btrfs device add /dev/sdc /mnt
</pre>
<p>At this point we have a filesystem with two devices, but all of the metadata and data are still stored on /dev/sdb. The filesystem must be balanced to spread the files across all of the devices.</p>
<pre class="literal-block">
$ btrfs filesystem balance /mnt
</pre>
<p>The balance operation will take some time. It reads in all of the FS data and metadata and rewrites it across the new device.</p>
</div>
<div class="section" id="conversion">
<h3>Conversion</h3>
<p>A non-raid filesystem is converted to raid by adding a device and running a balance filter that will change the chunk allocation profile.
For example, to convert an existing single device system (/dev/sdb1) into a 2 device raid1 (to protect against a single disk failure):</p>
<pre class="literal-block">
mount /dev/sdb1 /mnt
btrfs device add /dev/sdc1 /mnt
btrfs balance start -dconvert=raid1 -mconvert=raid1 /mnt
</pre>
<p>If the metadata is not converted from the single-device default, it remains as DUP, which does not guarantee that copies of block are on separate devices. If data is not converted it does not have any redundant copies at all.</p>
</div>
</div>
</div>
    </div>
    </article><article class="h-entry post-text"><header><h1 class="p-name entry-title"><a href="posts/geany-xin-de/" class="u-url">Geany 使用心得</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                Mario Long
            </span></p>
            <p class="dateline"><a href="posts/geany-xin-de/" rel="bookmark"><time class="published dt-published" datetime="2013-04-26T15:19:26+08:00" title="2013-04-26 15:19">2013-04-26 15:19</time></a></p>
                <p class="commentline">
        
    <a href="posts/geany-xin-de/#disqus_thread" data-disqus-identifier="cache/posts/geany-xin-de.html">Comments</a>


        </p>
</div>
    </header><div class="p-summary entry-summary">
    <div>
<div class="section" id="id1">
<h2>安裝</h2>
<blockquote>
$ yaourt -S geany geany-plugins vte</blockquote>
<p>geany 預設的快速鍵剛好也是 C-space，所以會衝突。把 geany 的快速鍵改掉。
我是改成 C-A-space，如此即可順利調用 fcitx。</p>
</div>
<div class="section" id="id2">
<h2>配色</h2>
<p>配色方案放在 <tt class="docutils literal"><span class="pre">~/.config/geany/colorschemes</span></tt> 下。</p>
</div>
<div class="section" id="id3">
<h2>鍵盤快速鍵</h2>
</div>
<div class="section" id="id4">
<h2>設定樣板</h2>
<p>在 ~/.config/geany/templates/files 下，建立一個易於辨識的檔名。以下爲範例</p>
<pre class="literal-block">
.. slug:
.. link:
.. title:
.. tags:
.. description:
.. date: {datetime}
</pre>
<p>開新檔時，可以用 <tt class="docutils literal">檔案 &gt; 開新檔案（利用範本）</tt>，就會建立一個預先設定好內容的新檔。
如下：</p>
<pre class="literal-block">
.. slug:
.. link:
.. title:
.. tags:
.. description:
.. date: 2013/04/26 15:19:26
</pre>
<p>其中 <tt class="docutils literal">{datetime}</tt> 參看 <a class="reference external" href="file:///usr/share/doc/geany/html/index.html#file-templates">Geany Help</a></p>
<div class="section" id="geany-plugins">
<h3>Geany-Plugins</h3>
</div>
</div>
<div class="section" id="installation">
<h2>Installation</h2>
<p>You can build the plugins using either autotools or waf.</p>
<p>Building with autotools</p>
<p>You can use Autotools to build the Geany plugins in this repository.</p>
<p>Usage:</p>
<pre class="literal-block">
 ./configure [arguments] or alternatively ./autogen.sh [arguments]
make
sudo make install
</pre>
<p>This will configure, build and install most of the Geany plugins.
There is some auto-detection in place which automagically disables
some of the plugins if there are insufficient build dependencies.
The following arguments can tweak the behaviour of the configure
script:-</p>
<div class="section" id="options">
<h3>Options</h3>
<p>A full listing of all supported options can be found in ./configure --help.</p>
</div>
<div class="section" id="enable-disable-features">
<h3>Enable/Disable Features</h3>
<p>The following options can be passed to ./configure in forms
--enable-&lt;option&gt;=auto (default), --enable-&lt;option&gt;, --disable-&lt;option&gt;. In all
cases, --enable-&lt;option&gt;=auto causes the feature to be enabled/disabled
automatically based on whether the dependency exists on your system.
--enable-&lt;option&gt; causes the feature to be forcefully enabled, causing configure
to fail with an error message if you have missing
dependencies. --disable-&lt;option&gt; causes the feature to be forcefully disabled.</p>
<p>Avaialble plugins are:</p>
<ul class="simple">
<li>addons -- the Addons plugin</li>
<li>codenav -- the CodeNav plugin</li>
<li>commander -- the Commander plugin</li>
<li>debugger -- the Debugger plugin</li>
<li>devhelp -- the devhelp plugin</li>
<li>geanydoc -- the GeanyDoc plugin</li>
<li>geanyextrasel -- the GeanyExtraSel plugin</li>
<li>geanygendoc -- the GeanyGenDoc plugin</li>
<li>geanyinsertnum -- the GeanyInsertNum plugin</li>
<li>geanylatex -- the GeanyLaTeX plugin</li>
<li>geanylipsum -- the GeanyLipsum plugin</li>
<li>geanylua -- the GeanyLua plugin</li>
<li>geanyminiscript -- the GeanyMiniScript plugin</li>
<li>geanypg -- the geanypg plugin</li>
<li>geanyprj -- the GeanyPrj plugin</li>
<li>geanysendmail -- the GeanySendmail plugin</li>
<li>geanyvc -- the GeanyVC plugin</li>
<li>geniuspaste -- the paste to a pastebin plugin</li>
<li>gproject -- the GProject plugin</li>
<li>gtkspell -- GeanyVC's spell-check support</li>
<li>markdown -- the Markdown plugin</li>
<li>pretty_printer -- the pretty-printer plugin</li>
<li>scope -- the Scope plugin</li>
<li>shiftcolumn -- the ShiftColumn plugin</li>
<li>spellcheck -- the spellcheck plugin</li>
<li>treebrowser -- the Treebrowser plugin</li>
<li>tableconvert -- the Tableconvert plugin</li>
<li>updatechecker -- the Updatechecker plugin</li>
<li>webhelper -- the WebHelper plugin</li>
<li>xmlsnippets -- the XMLSnippets plugin</li>
<li>extra-c-warnings -- extra C Compiler warnings (see also HACKING)</li>
<li>cppcheck -- static code analysis using cppcheck (see also HACKING)</li>
</ul>
<p>Example:
./configure --enable-geanylua --enable-spellcheck</p>
<p>This will force force both geanylua and spellcheck plugins to be enabled even
if some dependencies are missing.</p>
</div>
<div class="section" id="other-tweaks">
<h3>Other tweaks</h3>
<p>The following options can be passed to ./configure in the form
--with-&lt;option&gt;=&lt;argument&gt;.</p>
<ul class="simple">
<li>lua-pkg -- the name of the lua pkg-config package name.</li>
<li>geany-prefix -- Geany's prefix, used when compiling Geany.</li>
</ul>
</div>
<div class="section" id="compiling-individual-plugins">
<h3>Compiling Individual Plugins</h3>
<p>The Geany Plugins project uses a recursive automake build system,
which means that after running ./configure, you may compile each
individual plug-in by cd-ing into the respective plug-in directory
and compiling it.</p>
</div>
</div>
<div class="section" id="building-with-waf">
<h2>Building with waf</h2>
<p>Geany-Plugins can also being build using Python based build system waf.
For doing this you have similar to building with autotools run three steps:</p>
<pre class="literal-block">
./waf configure
./waf build
./waf install
</pre>
</div>
</div>
    </div>
    </article>
</div>

        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="index-2.html" rel="prev">較新的文章</a>
            </li>
        </ul></nav><script>var disqus_shortname="simple-life";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>
</div>
			</div>
			<!--End of body content-->
		</div>
		<div class="footerbox">
			Contents © 2018         <a href="mailto:mariolong5782@gmail.com">Mario Long</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         
			
		</div>
		
            <script src="assets/js/all-nocdn.js"></script><script>$('a.image-reference:not(.islink) img:not(.islink)').parent().colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script><!-- fancy dates --><script>
			moment.locale("zh-tw");
			fancydates(0, "YYYY-MM-DD HH:mm");
		</script><!-- end fancy dates -->
</div>
</body>
</html>
